(this.webpackJsonpexcalidraw=this.webpackJsonpexcalidraw||[]).push([[46],{197:function(r,e,t){(function(r){var t;t=function(e){e.version="0.3.0";var t=function(){for(var r=0,e=new Array(256),t=0;256!=t;++t)r=1&(r=1&(r=1&(r=1&(r=1&(r=1&(r=1&(r=1&(r=t)?-306674912^r>>>1:r>>>1)?-306674912^r>>>1:r>>>1)?-306674912^r>>>1:r>>>1)?-306674912^r>>>1:r>>>1)?-306674912^r>>>1:r>>>1)?-306674912^r>>>1:r>>>1)?-306674912^r>>>1:r>>>1)?-306674912^r>>>1:r>>>1,e[t]=r;return"undefined"!==typeof Int32Array?new Int32Array(e):e}(),n="undefined"!==typeof r;function a(r){for(var e=-1,n=0,a=r.length-7;n<a;)e=(e=(e=(e=(e=(e=(e=(e=e>>>8^t[255&(e^r[n++])])>>>8^t[255&(e^r[n++])])>>>8^t[255&(e^r[n++])])>>>8^t[255&(e^r[n++])])>>>8^t[255&(e^r[n++])])>>>8^t[255&(e^r[n++])])>>>8^t[255&(e^r[n++])])>>>8^t[255&(e^r[n++])];for(;n<a+7;)e=e>>>8^t[255&(e^r[n++])];return-1^e}e.table=t,e.bstr=function(e){if(e.length>32768&&n)return a(new r(e));for(var o=-1,i=e.length-1,c=0;c<i;)o=t[255&(o^e.charCodeAt(c++))]^o>>>8,o=t[255&(o^e.charCodeAt(c++))]^o>>>8;return c===i&&(o=o>>>8^t[255&(o^e.charCodeAt(c))]),-1^o},e.buf=function(r){if(r.length>1e4)return a(r);for(var e=-1,n=0,o=r.length-3;n<o;)e=(e=(e=(e=e>>>8^t[255&(e^r[n++])])>>>8^t[255&(e^r[n++])])>>>8^t[255&(e^r[n++])])>>>8^t[255&(e^r[n++])];for(;n<o+3;)e=e>>>8^t[255&(e^r[n++])];return-1^e},e.str=function(r){for(var e,n,a=-1,o=0,i=r.length;o<i;)(e=r.charCodeAt(o++))<128?a=a>>>8^t[255&(a^e)]:e<2048?a=(a=a>>>8^t[255&(a^(192|e>>6&31))])>>>8^t[255&(a^(128|63&e))]:e>=55296&&e<57344?(e=64+(1023&e),n=1023&r.charCodeAt(o++),a=(a=(a=(a=a>>>8^t[255&(a^(240|e>>8&7))])>>>8^t[255&(a^(128|e>>2&63))])>>>8^t[255&(a^(128|n>>6&15|3&e))])>>>8^t[255&(a^(128|63&n))]):a=(a=(a=a>>>8^t[255&(a^(224|e>>12&15))])>>>8^t[255&(a^(128|e>>6&63))])>>>8^t[255&(a^(128|63&e))];return-1^a}},"undefined"===typeof DO_NOT_EXPORT_CRC?t(e):t({})}).call(this,t(186).Buffer)},211:function(r,e,t){var n=t(197);r.exports=function(r){if(137!==r[0])throw new Error("Invalid .png file header");if(80!==r[1])throw new Error("Invalid .png file header");if(78!==r[2])throw new Error("Invalid .png file header");if(71!==r[3])throw new Error("Invalid .png file header");if(13!==r[4])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(10!==r[5])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(26!==r[6])throw new Error("Invalid .png file header");if(10!==r[7])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");var e=!1,t=[],c=8;for(;c<r.length;){a[3]=r[c++],a[2]=r[c++],a[1]=r[c++],a[0]=r[c++];var u=i[0]+4,f=new Uint8Array(u);f[0]=r[c++],f[1]=r[c++],f[2]=r[c++],f[3]=r[c++];var d=String.fromCharCode(f[0])+String.fromCharCode(f[1])+String.fromCharCode(f[2])+String.fromCharCode(f[3]);if(!t.length&&"IHDR"!==d)throw new Error("IHDR header missing");if("IEND"===d){e=!0,t.push({name:d,data:new Uint8Array(0)});break}for(var s=4;s<u;s++)f[s]=r[c++];a[3]=r[c++],a[2]=r[c++],a[1]=r[c++],a[0]=r[c++];var l=o[0];if(n.buf(f)!==l)throw new Error("CRC values for "+d+" header do not match, PNG file is likely corrupted");var h=new Uint8Array(f.buffer.slice(4));t.push({name:d,data:h})}if(!e)throw new Error(".png file ended prematurely: no IEND header was found");return t};var a=new Uint8Array(4),o=new Int32Array(a.buffer),i=new Uint32Array(a.buffer)},215:function(r,e,t){e.encode=t(216),e.decode=t(217)},216:function(r,e){r.exports=function(r,e){if(r=String(r),e=String(e),!/^[\x00-\xFF]+$/.test(r)||!/^[\x00-\xFF]+$/.test(e))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(r.length>=80)throw new Error('Keyword "'+r+'" is longer than the 79-character limit imposed by the PNG specification');for(var t,n=r.length+e.length+1,a=new Uint8Array(n),o=0,i=0;i<r.length;i++){if(!(t=r.charCodeAt(i)))throw new Error("0x00 character is not permitted in tEXt keywords");a[o++]=t}a[o++]=0;for(var c=0;c<e.length;c++){if(!(t=e.charCodeAt(c)))throw new Error("0x00 character is not permitted in tEXt content");a[o++]=t}return{name:"tEXt",data:a}}},217:function(r,e){r.exports=function(r){r.data&&r.name&&(r=r.data);for(var e=!0,t="",n="",a=0;a<r.length;a++){var o=r[a];if(e)o?n+=String.fromCharCode(o):e=!1;else{if(!o)throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content");t+=String.fromCharCode(o)}}return{keyword:n,text:t}}},218:function(r,e,t){var n=t(219),a=t(197);r.exports=function(r){var e,t=8,u=t;for(e=0;e<r.length;e++)t+=r[e].data.length,t+=12;var f=new Uint8Array(t);for(f[0]=137,f[1]=80,f[2]=78,f[3]=71,f[4]=13,f[5]=10,f[6]=26,f[7]=10,e=0;e<r.length;e++){var d=r[e],s=d.name,l=d.data,h=l.length,p=[s.charCodeAt(0),s.charCodeAt(1),s.charCodeAt(2),s.charCodeAt(3)];c[0]=h,f[u++]=o[3],f[u++]=o[2],f[u++]=o[1],f[u++]=o[0],f[u++]=p[0],f[u++]=p[1],f[u++]=p[2],f[u++]=p[3];for(var w=0;w<h;)f[u++]=l[w++];var v=p.concat(n(l)),x=a.buf(v);i[0]=x,f[u++]=o[3],f[u++]=o[2],f[u++]=o[1],f[u++]=o[0]}return f};var o=new Uint8Array(4),i=new Int32Array(o.buffer),c=new Uint32Array(o.buffer)},219:function(r,e){r.exports=function(r,e,t){var n=[],a=r.length;if(0===a)return n;var o=e<0?Math.max(0,e+a):e||0;for(void 0!==t&&(a=t<0?t+a:t);a-- >o;)n[a-o]=r[a];return n}},246:function(r,e,t){"use strict";t.r(e),t.d(e,"getTEXtChunk",(function(){return w})),t.d(e,"encodePngMetadata",(function(){return v})),t.d(e,"decodePngMetadata",(function(){return x})),t.d(e,"encodeSvgMetadata",(function(){return y})),t.d(e,"decodeSvgMetadata",(function(){return g}));var n=t(3),a=t.n(n),o=t(7),i=t(211),c=t.n(i),u=t(215),f=t.n(u),d=t(218),s=t.n(d),l=t(33),h=t(2),p=function(r){return"arrayBuffer"in r?r.arrayBuffer():new Promise((function(e,t){var n=new FileReader;n.onload=function(r){var n;if(!(null===(n=r.target)||void 0===n?void 0:n.result))return t(new Error("couldn't convert blob to ArrayBuffer"));e(r.target.result)},n.readAsArrayBuffer(r)}))},w=function(){var r=Object(o.a)(a.a.mark((function r(e){var t,n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=c.a,r.t1=Uint8Array,r.next=4,p(e);case 4:if(r.t2=r.sent,r.t3=new r.t1(r.t2),t=(0,r.t0)(r.t3),!(n=t.find((function(r){return"tEXt"===r.name})))){r.next=10;break}return r.abrupt("return",f.a.decode(n.data));case 10:return r.abrupt("return",null);case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),v=function(){var r=Object(o.a)(a.a.mark((function r(e){var t,n,o,i;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.blob,n=e.metadata,r.t0=c.a,r.t1=Uint8Array,r.next=5,p(t);case 5:return r.t2=r.sent,r.t3=new r.t1(r.t2),o=(0,r.t0)(r.t3),r.t4=f.a,r.t5=h.D.excalidraw,r.t6=JSON,r.next=13,Object(l.e)({text:n,compress:!0});case 13:return r.t7=r.sent,r.t8=r.t6.stringify.call(r.t6,r.t7),i=r.t4.encode.call(r.t4,r.t5,r.t8),o.splice(-1,0,i),r.abrupt("return",new Blob([s()(o)],{type:h.D.png}));case 18:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),x=function(){var r=Object(o.a)(a.a.mark((function r(e){var t,n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,w(e);case 2:if((null===(t=r.sent)||void 0===t?void 0:t.keyword)!==h.D.excalidraw){r.next=19;break}if(r.prev=4,"encoded"in(n=JSON.parse(t.text))){r.next=10;break}if(!("type"in n)||n.type!==h.t.excalidraw){r.next=9;break}return r.abrupt("return",t.text);case 9:throw new Error("FAILED");case 10:return r.next=12,Object(l.c)(n);case 12:return r.abrupt("return",r.sent);case 15:throw r.prev=15,r.t0=r.catch(4),console.error(r.t0),new Error("FAILED");case 19:throw new Error("INVALID");case 20:case"end":return r.stop()}}),r,null,[[4,15]])})));return function(e){return r.apply(this,arguments)}}(),y=function(){var r=Object(o.a)(a.a.mark((function r(e){var t,n,o;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.text,r.t0=l.f,r.t1=JSON,r.next=5,Object(l.e)({text:t});case 5:return r.t2=r.sent,r.t3=r.t1.stringify.call(r.t1,r.t2),r.next=9,(0,r.t0)(r.t3,!0);case 9:return n=r.sent,o="",o+="\x3c!-- payload-type:".concat(h.D.excalidraw," --\x3e"),o+="\x3c!-- payload-version:2 --\x3e",o+="\x3c!-- payload-start --\x3e",o+=n,o+="\x3c!-- payload-end --\x3e",r.abrupt("return",o);case 17:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),g=function(){var r=Object(o.a)(a.a.mark((function r(e){var t,n,o,i,c,u,f;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t=e.svg).includes("payload-type:".concat(h.D.excalidraw))){r.next=26;break}if(n=t.match(/<!-- payload-start -->(.+?)<!-- payload-end -->/)){r.next=5;break}throw new Error("INVALID");case 5:return o=t.match(/<!-- payload-version:(\d+) -->/),i=(null===o||void 0===o?void 0:o[1])||"1",c="1"!==i,r.prev=8,r.next=11,Object(l.a)(n[1],c);case 11:if(u=r.sent,"encoded"in(f=JSON.parse(u))){r.next=17;break}if(!("type"in f)||f.type!==h.t.excalidraw){r.next=16;break}return r.abrupt("return",u);case 16:throw new Error("FAILED");case 17:return r.next=19,Object(l.c)(f);case 19:return r.abrupt("return",r.sent);case 22:throw r.prev=22,r.t0=r.catch(8),console.error(r.t0),new Error("FAILED");case 26:throw new Error("INVALID");case 27:case"end":return r.stop()}}),r,null,[[8,22]])})));return function(e){return r.apply(this,arguments)}}()}}]);
//# sourceMappingURL=image.a4081b0a.chunk.js.map